# TRABIX Backend - Variables de Entorno---

# Aplicación---
NODE_ENV=development
PORT=3000#Puerto en el que se expone la API
API_PREFIX=api/v1#Prefijo global para las rutas HTTP

# Base de datos---
DATABASE_URL=postgresql://postgres:testpassword@localhost:5433/trabix_test?schema=public
#DATABASE_URL=postgresql://trabix_user:trabix_password@localhost:5432/trabix_db
#linea de arriba la reemplazamos despues de pruebas

# Redis---
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=trabix_redis_password
REDIS_URL=redis://:trabix_redis_password@localhost:6379
# URL completa de Redis (usada por Bull y cache)

# Queue (Bull)---
BULL_REDIS_URL=redis://:trabix_redis_password@localhost:6379
# Redis utilizado por Bull para colas de trabajos

# JWT---
JWT_SECRET=tu-clave-secreta-muy-larga-y-segura-cambiar-en-produccion
# Clave secreta para firmar access tokens
JWT_ACCESS_EXPIRATION=15m# Tiempo de expiración del access token
JWT_REFRESH_SECRET=otra-clave-secreta-diferente-cambiar-en-produccion
# Clave secreta para firmar refresh tokens
JWT_REFRESH_EXPIRATION=7d# Tiempo de expiración del refresh token

# Seguridad---
BCRYPT_ROUNDS=12# Número de rondas para el hash de contraseñas
RATE_LIMIT_TTL=60# Ventana de tiempo (segundos) para rate limiting global
RATE_LIMIT_MAX=100# Máximo de requests permitidas por ventana
CORS_ORIGIN=http://localhost:3001# Origen permitido para CORS

# Throttle (Rate Limiting)---
THROTTLE_GLOBAL_TTL=60# Ventana de tiempo para throttle global (segundos)
THROTTLE_GLOBAL_LIMIT=100# Límite de requests globales
THROTTLE_LOGIN_TTL=60# Ventana de tiempo para intentos de login
THROTTLE_LOGIN_LIMIT=5# Máximo de intentos de login permitido
THROTTLE_SENSITIVE_TTL=60# Ventana para endpoints sensibles
THROTTLE_SENSITIVE_LIMIT=20# Límite para endpoints sensibles
THROTTLE_WEBSOCKET_TTL=60# Ventana de control para WebSockets
THROTTLE_WEBSOCKET_LIMIT=10# Límite de eventos WebSocket

# Bloqueo Progresivo (Lockout)---
LOCKOUT_LEVEL1_ATTEMPTS=5
LOCKOUT_LEVEL1_MINUTES=15
LOCKOUT_LEVEL2_ATTEMPTS=10
LOCKOUT_LEVEL2_MINUTES=60
LOCKOUT_LEVEL3_ATTEMPTS=15
LOCKOUT_LEVEL3_MINUTES=1440
LOCKOUT_PERMANENT_ATTEMPTS=20

# Business - Precios---
COSTO_PERCIBIDO_TRABIX=2400# Costo base percibido por vendedores/reclutadores por cada TRABIX
APORTE_FONDO_POR_TRABIX=200# Aporte inmediato al fondo por cada TRABIX de lotes ACTIVADOS
PRECIO_UNIDAD_LICOR=8000# Precio unitario con licor
PRECIO_PROMO_LICOR=12000# Precio promoción (2 TRABIX) con licor
PRECIO_UNIDAD_SIN_LICOR=7000# Precio unitario sin licor
PRECIO_MAYOR_20_LICOR=4900# Precio por unidad (>=20) con licor
PRECIO_MAYOR_50_LICOR=4700# Precio por unidad (>=50) con licor
PRECIO_MAYOR_100_LICOR=4500# Precio por unidad (>=100) con licor
PRECIO_MAYOR_20_SIN_LICOR=4800# Precio por unidad (>=20) sin licor
PRECIO_MAYOR_50_SIN_LICOR=4500# Precio por unidad (>=50) sin licor
PRECIO_MAYOR_100_SIN_LICOR=4200# Precio por unidad (>=100) sin licor

# Equipamiento---
MENSUALIDAD_CON_DEPOSITO=9990# Mensualidad cuando existe depósito
MENSUALIDAD_SIN_DEPOSITO=19990# Mensualidad sin depósito
DEPOSITO_EQUIPAMIENTO=49990# Valor del depósito de equipamiento
COSTO_DANO_NEVERA=30000# Costo por daño de nevera
COSTO_DANO_PIJAMA=60000# Costo por daño de pijama

# Porcentajes---
PORCENTAJE_GANANCIA_VENDEDOR_60_40=60# Ganancia del vendedor en modelo 60/40
PORCENTAJE_GANANCIA_ADMIN_60_40=40# Ganancia del admin en modelo 60/40
PORCENTAJE_GANANCIA_VENDEDOR_50_50=50# Ganancia del vendedor en modelo 50/50
PORCENTAJE_INVERSION_VENDEDOR=50# Porcentaje de inversión del vendedor
LIMITE_REGALOS=8# Máximo de regalos permitidos por lote
TRIGGER_CUADRE_T2=10# Trigger de stock actual para cuadre tanda 2 para lotes de 3 tandas
TRIGGER_CUADRE_T3=20# Trigger de stock actual para cuadre tanda 3 para lotes de 3 tandas
TRIGGER_CUADRE_T1_2TANDAS=10# Trigger de stock actual para cuadre T1 cuando hay 2 tandas
TRIGGER_CUADRE_T2_2TANDAS=20# Trigger de stock actual para cuadre T2 cuando hay 2 tandas

# Lotes - Límites---
MAX_LOTES_CREADOS_POR_VENDEDOR=2# Máximo de lotes (solicitados) en estado CREADO por vendedor
INVERSION_MINIMA_VENDEDOR=20000# Inversión mínima del vendedor en COP
UMBRAL_TANDAS_TRES=50# Umbral de TRABIX: >50 = 3 tandas, <=50 = 2 tandas

# Tiempos---
TIEMPO_AUTO_TRANSITO_HORAS=2# Horas para pasar automáticamente de LIBERADA a EN_TRANSITO

# Logging---
LOG_LEVEL=debug
LOG_FORMAT=pretty

# Health Check---
HEALTH_CHECK_ENABLED=true

# Outbox Processor---
OUTBOX_POLL_INTERVAL=5000# Intervalo (ms) para procesar la outbox
OUTBOX_MAX_RETRIES=3# Máximo de reintentos por evento fallido